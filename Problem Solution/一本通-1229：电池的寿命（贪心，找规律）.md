> # 一本通-1229：电池的寿命（贪心，找规律）

【题目描述】
小S新买了一个掌上游戏机，这个游戏机由两节5号电池供电。为了保证能够长时间玩游戏，他买了很多5号电池，这些电池的生产商不同，质量也有差异，因而使用寿命也有所不同，有的能使用5个小时，有的可能就只能使用3个小时。显然如果他只有两个电池一个能用5小时一个能用3小时，那么他只能玩3个小时的游戏，有一个电池剩下的电量无法使用，但是如果他有更多的电池，就可以更加充分地利用它们，比如他有三个电池分别能用3、3、5小时，他可以先使用两节能用3个小时的电池，使用半个小时后再把其中一个换成能使用5个小时的电池，两个半小时后再把剩下的一节电池换成刚才换下的电池（那个电池还能用2.5个小时），这样总共就可以使用5.5个小时，没有一点浪费。

现在已知电池的数量和电池能够使用的时间，请你找一种方案使得使用时间尽可能的长。

【输入】
输入包含多组数据。每组数据包括两行，第一行是一个整数N(2≤N≤1000)，表示电池的数目，接下来一行是N个正整数表示电池能使用的时间。

【输出】
对每组数据输出一行，表示电池能使用的时间，保留到小数点后1位。

【输入样例】
2
3 5
3
3 3 5

【输出样例】
3.0
5.5

----

```c++
#include <bits/stdc++.h>

using namespace std;

int main()
{
    std::ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    int n;
    while (cin >> n) {
    	int sum = 0, maxVal = -INT_MAX;
    	int tmp;
    	for (int i = 0; i < n; ++i) {
    		cin >> tmp;
    		sum += tmp;
    		maxVal = max(maxVal, tmp);
    	}

    	if (sum >= 2 * maxVal) cout << fixed << setprecision(1) << sum * 1.0 / 2 << endl;
    	else cout << fixed << setprecision(1) << (sum - maxVal) * 1.0 << endl;
    }
 
    return 0;
}
```

这道题假如后续并不一定和题目里的只有3和5，后续可以是任意整数，也适用。可以和求众数的摩尔选举法结合，如果一个电池的容量大于了总和的一半，那么意味着剩下所有的电池都和这个最大的组合起来使用也不可能让这个电池电量耗光，如果不存在一个电池的电量超过总和的一半，那么总可以把它们分成0.5的倍数，最后全都用光。
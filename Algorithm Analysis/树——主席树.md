> # 树-主席树

主席树也叫可持久化线段树、函数式线段树，主要可以解决区间第K大问题。

- [ ] 洛谷 可持久化线段树
- [ ] HDU 2665

参考资料：

* https://www.bilibili.com/video/BV1C4411u7rK
* https://www.bilibili.com/video/BV1Zt411779U
* https://www.luogu.com.cn/training/2971

主席树是在省选难度比赛中应用最为广泛的数据结构之一，而部分功能也可以用可持久化 Trie 代替，好写一些。

然而实际应用中解决普通值域问题多用主席树，而处理异或问题会用可持久化 Trie（事实上权值线段树也可以解决异或问题，但是复杂度稍大，也有题目涉及）。

* P3834 【模板】可持久化线段树 1（主席树/可持久化 01Trie 模板题）

* P4735 最大异或和（可持久化 01Trie 解决异或问题模板题）

* P2617 Dynamic Rankings（权值线段树的简单扩展——树状数组套权值线段树维护待修改二维数点）

* P2633 Count on a tree（树上主席树套路）

P2839 [国家集训队] middle（二分+主席树好题，启发了主席树在值域上建区间的套路）

P5284 [十二省联考2019] 字符串问题（SA/SAM+线段树优化建图，需要可持久化）

P4094 [HEOI2016/TJOI2016] 字符串（二分+主席树好题，主席树求两区间交的套路）

P6071 [MdOI2020] Treequery（我 吹 我 自 己，主席树与虚树理论结合，也有不太优美的倍增+主席树做法）

P3899 [湖南集训] 更为厉害（启发了主席树能解决的一大类问题——二维数点）

P4197 Peaks（主席树与 Kruskal 重构树的直接结合，也有并查集的做法）

P4175 [CTSC2008] 网络管理（毒瘤的树上线段树套线段树，可以思考套的顺序对应套路）

P3293 [SCOI2016] 美味（主席树处理平移后的异或问题）

P5283 [十二省联考2019] 异或粽子（可持久化 Trie 入门题，可以思考 k 较大的情况）

P5795 [THUSC2015] 异或运算（与前一题异曲同工，在一堆可持久化 Trie 上同时做二分）

补充题：UOJ 266 [清华集训2016] Alice和Bob又在玩游戏（Trie 的全局异或标记，Trie 树合并，非常重要的技巧）